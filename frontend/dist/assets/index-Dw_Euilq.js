function r(o,i){document.querySelectorAll(".grave-overlay, .grave-tooltip").forEach(e=>e.remove());const l=o.getBoundingClientRect();for(const e of i){const n=document.createElement("div");n.className="grave-overlay",n.style.position="absolute",n.style.left=`${l.left+e.x}px`,n.style.top=`${l.top+e.y}px`,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.cursor="pointer",n.style.background="rgba(0,0,0,0)",n.style.zIndex="1001",n.style.pointerEvents="auto";const t=document.createElement("div");t.className="grave-tooltip",t.style.position="absolute",t.style.left=`${l.left+e.x}px`,t.style.top=`${l.top+e.y-32}px`,t.style.minWidth="120px",t.style.background="#222",t.style.color="#fff",t.style.padding="6px 12px",t.style.borderRadius="8px",t.style.boxShadow="0 2px 6px rgba(0,0,0,0.3)",t.style.fontSize="14px",t.style.pointerEvents="none",t.style.zIndex="2000",t.style.display="none",t.textContent=e.memory.text,n.addEventListener("mouseenter",()=>{t.style.display="block"}),n.addEventListener("mouseleave",()=>{t.style.display="none"}),document.body.appendChild(n),document.body.appendChild(t)}}const d={updateGraveOverlaysAndTooltips:r};function p(o,i,l,e,n){let t=[];return t=e.render(o,s,i,l,n),t}function a(o){const i=o.parentElement;if(!i)return;const l=i.getBoundingClientRect(),e=window.devicePixelRatio||1;(o.width!==Math.round(l.width*e)||o.height!==Math.round(l.height*e))&&(o.width=Math.round(l.width*e),o.height=Math.round(l.height*e),o.style.width=`${l.width}px`,o.style.height=`${l.height}px`)}const s={reRenderMemoriesAndOverlays:p,resizeToContainer:a};function c(o){document.querySelectorAll(".grave-tooltip").forEach(i=>{o.has(i.id.replace("grave-tooltip-",""))||i.remove()})}function y(o,i){if(!o)return document.createElement("div");const l=`grave-tooltip-${o.memory.id}`;let e=document.getElementById(l);e||(e=document.createElement("div"),e.id=l,e.className="grave-tooltip",e.style.position="absolute",e.style.pointerEvents="none",e.style.zIndex="1000",document.body.appendChild(e)),e.textContent=o.memory.text;const n=i.getBoundingClientRect();return e.style.left=`${n.left+o.x}px`,e.style.top=`${n.top+o.y-32}px`,e.style.display="none",e}const u={cleanUpOldTooltips:c,createOrUpdateGraveTooltip:y},h={canvas:s,events:d,elements:u};export{h as domFns};
